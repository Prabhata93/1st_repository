
#DOCKER COMMANDS FOR EC2 AMAZON_LINUX
 ------------------------------------

sudo yum update -y
sudo yum -y install docker

sudo service docker start
sudo systemctl enable docker
docker --version
sudo docker info

sudo docker run hello-world

sudo docker run -d -p 80:80 nginx

Check Docker Version
sudo docker version

Run Nginx Container
sudo docker run -d -p 8080:80 nginx

Test Running Container
curl http://localhost:8080

List Running Containers
sudo docker ps

List All Containers (running + stopped)
sudo docker ps -a

Stop a Container
sudo docker stop <container_id>

Remove a Container
sudo docker rm <container_id>

Remove All Stopped Containers
sudo docker rm $(sudo docker ps -a -q)

Pull an Image
sudo docker pull ubuntu

Run a Command in a New Container
sudo docker run -it ubuntu /bin/bash

Execute Command in a Running Container
sudo docker exec -it <container_id> /bin/bash


dileep kumar .S  08:27

sudo docker ps

sudo docker stop abc12345

sudo docker stop $(sudo docker ps -q)

sudo docker rm abc12345


sudo docker run -d -p 80:80 nginxdemos/hello



mkdir ~/html
echo "<h1>Hello World from EC2! Prabhata Docker </h1>" > ~/html/index.html
echo "<h1>welcome to my webpage </h1>" >> ~/html/index.html

sudo docker run -d -p 80:80 -v ~/html:/usr/share/nginx/html:ro nginx



-----------------------------------------------------


# DOCKER COMMANDS FOR EC2 UBUNTU
  ------------------------------


#1. Remove any old Docker packages
sudo apt remove docker docker-engine docker.io containerd runc

#2. Update and install prerequisites
sudo apt update
sudo apt install ca-certificates curl gnupg lsb-release -y

#3. Add Dockerâ€™s official GPG key
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

#4. Set up the Docker repository
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

#5. Install Docker Engine, CLI, and Containerd
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y

#6. Enable and start Docker
sudo systemctl enable docker
sudo systemctl start docker

#7. Verify installation
docker --version
sudo docker run hello-world

#Run HTML file (for our requirement)
mkdir ~/html
echo "<h1>Hello World from EC2! Prabhata Docker </h1>" > ~/html/index.html
echo "<h1>welcome to my webpage </h1>" >> ~/html/index.html

sudo docker run -d -p 80:80 -v ~/html:/usr/share/nginx/html:ro nginx


--------------------------------------------------------------



